!function(){"use strict";var t=window.location,e=window.document,a=e.currentScript,r=a.getAttribute("data-api")||"https://p.veliainn.com/api/event",n=a.getAttribute("data-domain");function i(t,e){t&&console.warn("Ignoring Event: "+t),e&&e.callback&&e.callback()}function o(o,l){if(/^localhost$|^0127(\.[0-9]+){0,2}\.[0-9]+$|^\[::1?\]$/.test(t.hostname)||"file:"===t.protocol)return i("localhost",l);if(window._phantom||window.__nightmare||window.navigator.webdriver||window.Cypress)return i(null,l);try{if("true"===window.localStorage.plausible_ignore)return i("localStorage flag",l)}catch(p){}var s={},o=(s.n=o,s.u=t.href,s.d=n,s.r=e.referrer||null,l&&l.meta&&(s.m=JSON.stringify(l.meta)),l&&l.props&&(s.p=l.props),a.getAttributeNames().filter(function(t){return"event-"===t.substring(0,6)})),c=s.p||{},u=(o.forEach(function(t){var e=t.replace("event-",""),t=a.getAttribute(t);c[e]=c[e]||t}),s.p=c,new XMLHttpRequest);u.open("POST",r,!0),u.setRequestHeader("Content-Type","text/plain"),u.send(JSON.stringify(s)),window.plausibleLastCall=Date.now(),u.onreadystatechange=function(){4===u.readyState&&l&&l.callback&&l.callback()}}var l=window.plausible&&window.plausible.q||[];window.plausible=o;for(var p,s=0;s<l.length;s++)o.apply(this,l[s]);function c(){p!==t.pathname&&(p=t.pathname,o("pageview"))}var u,f=window.history;function v(t){return t&&t.tagName&&"a"===t.tagName.toLowerCase()}function h(e){var a,r;if("auxclick"!==e.type||1===e.button)return(a=function(t){for(;t&&(void 0===t.tagName||!v(t)||!t.href);)t=t.parentNode;return t}(e.target))&&a.href&&a.href.split("?")[0],!function t(e,a){return!!e&&!(g<a)&&(!!y(e)||t(e.parentNode,a+1))}(a,0)&&(r=a)&&r.href&&r.host&&r.host!==t.host?m(e,a,{name:"Outbound Link: Click",props:{url:a.href}}):void 0}function m(t,e,a){var r=!1;function n(){r||(r=!0,window.location=e.href)}!function(t,e){if(!t.defaultPrevented)return e=!e.target||e.target.match(/^_(self|parent|top)$/i),t=!(t.ctrlKey||t.metaKey||t.shiftKey)&&"click"===t.type,e&&t}(t,e)?plausible(a.name,{props:a.props}):(plausible(a.name,{props:a.props,callback:n}),setTimeout(n,5e3),t.preventDefault())}function d(t){var t=y(t)?t:t&&t.parentNode,e={name:null,props:{}},a=t&&t.classList;if(a)for(var r=0;r<a.length;r++){var n,i=a.item(r).match(/plausible-event-(.+)(=|--)(.+)/);i&&(n=i[1],i=i[3].replace(/\+/g," "),"name"===n.toLowerCase()?e.name=i:e.props[n]=i)}return e}f.pushState&&(u=f.pushState,f.pushState=function(){u.apply(this,arguments),c()},window.addEventListener("popstate",c)),"prerender"===e.visibilityState?e.addEventListener("visibilitychange",function(){p||"visible"!==e.visibilityState||c()}):c(),e.addEventListener("click",h),e.addEventListener("auxclick",h);var g=3;function b(t){if("auxclick"!==t.type||1===t.button){for(var e,a,r,n,i=t.target,o=0;o<=g&&i;o++){if((r=i)&&r.tagName&&"form"===r.tagName.toLowerCase())return;v(i)&&(e=i),y(i)&&(a=i),i=i.parentNode}a&&(n=d(a),e?(n.props.url=e.href,m(t,e,n)):plausible(n.name,{props:n.props}))}}function y(t){var e=t&&t.classList;if(e){for(var a=0;a<e.length;a++)if(e.item(a).match(/plausible-event-name(=|--)(.+)/))return!0}return!1}e.addEventListener("submit",function(t){var e,a=t.target,r=d(a);function n(){e||(e=!0,a.submit())}r.name&&(t.preventDefault(),e=!1,setTimeout(n,5e3),plausible(r.name,{props:r.props,callback:n}))}),e.addEventListener("click",b),e.addEventListener("auxclick",b)}();
