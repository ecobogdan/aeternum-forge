(function (w) {
    /*tagconfig*/
    var adConfig = {}
    var config =

{"soundButton":true,"pauseButton":true,"loop":true,"adsControlPositioning":"distributed","playerType":1,"playerDelay":0,"errorLimit":30,"maxImp":9999,"maxRun":9999,"midrolltime":2,"vastRetry":4,"channelId":"66868c2507bdda88a90fc7a4","templateId":"66b230d5c2f312d5a20a07f5","posType":"in","width":100,"height":0,"maxWidth":480,"posFallbacks":[{"selector":"p"},{"selector":"article"},{"selector":"div"},{"selector":"h1"},{"selector":"h2"}],"posSelectors":[{"selector":"body"}],"passbackType":1,"passback":{"refreshInterval":30},"isSessionIdEnabled":false,"display":{"linear":{"enable":false,"disableWhenFloating":false,"duration":1000},"passback":{"enable":false,"disableWhenFloating":false}},"vitab":true,"templateType":"1","waitBeforeInit":0,"publisherId":"668563324e846922350280ba","closeButton":true,"playerVersion":8,"tagId":"66868d7d01e9d63094010a1a","scriptId":"AV66868d7d01e9d63094010a1a","hideInitPreloader":true,"timelineMode":"bottom","targetingDomain":"","checkTargeting":false,"adServerDomain":"go1.aniview.com","position":"aniplayer_AV66868d7d01e9d63094010a1a","sticky":{"position":"Bottom-Right","size":1},"openAnim":true,"posDfp1x1":false,"posSelector":"body","autoContinue":true,"closeButtonStyle":{"position":"Default","outside":true},"logo":false,"autoPlay":true}
var b =
{}
var ab =
[{"t":{"p":1},"n":"default1","sp":50,"a":{"soundButton":true,"pauseButton":true,"loop":true,"adsControlPositioning":"distributed","playerType":1,"playerDelay":0,"errorLimit":30,"maxImp":9999,"maxRun":9999,"midrolltime":2,"vastRetry":4,"channelId":"66868c2507bdda88a90fc7a4","templateId":"66b230d5c2f312d5a20a07f5","width":100,"height":0,"sabTest":"default1","maxWidth":480,"passbackType":1,"passback":{"refreshInterval":30},"display":{"linear":{"enable":false,"disableWhenFloating":false,"duration":1000},"passback":{"enable":false,"disableWhenFloating":false}},"vitab":true,"templateType":"1","publisherId":"668563324e846922350280ba","closeButton":true,"playerVersion":8,"tagId":"66868d7d01e9d63094010a1a","scriptId":"AV66868d7d01e9d63094010a1a","hideInitPreloader":true,"timelineMode":"bottom","targetingDomain":"","checkTargeting":false,"adServerDomain":"go1.aniview.com","position":"aniplayer_AV66868d7d01e9d63094010a1a","sticky":{"position":"Bottom-Right","size":1},"openAnim":true,"posDfp1x1":false,"posSelector":"body","autoContinue":true,"closeButtonStyle":{"position":"Default","outside":true},"logo":false,"autoPlay":true}},{"t":{"p":1},"n":"pos","sp":50,"a":{"soundButton":true,"pauseButton":true,"loop":true,"adsControlPositioning":"distributed","playerType":1,"playerDelay":0,"errorLimit":30,"maxImp":9999,"maxRun":9999,"midrolltime":2,"vastRetry":4,"channelId":"66868c2507bdda88a90fc7a4","templateId":"66b230d5c2f312d5a20a07f5","width":100,"height":0,"sabTest":"pos","maxWidth":480,"passbackType":1,"passback":{"refreshInterval":30},"mediatypes":{"video":{"pos":1}},"display":{"linear":{"enable":false,"disableWhenFloating":false,"duration":1000},"passback":{"enable":false,"disableWhenFloating":false}},"vitab":true,"templateType":"1","publisherId":"668563324e846922350280ba","closeButton":true,"playerVersion":8,"tagId":"66868d7d01e9d63094010a1a","scriptId":"AV66868d7d01e9d63094010a1a","hideInitPreloader":true,"timelineMode":"bottom","targetingDomain":"","checkTargeting":false,"adServerDomain":"go1.aniview.com","position":"aniplayer_AV66868d7d01e9d63094010a1a","sticky":{"position":"Bottom-Right","size":1},"openAnim":true,"posDfp1x1":false,"posSelector":"body","autoContinue":true,"closeButtonStyle":{"position":"Default","outside":true},"logo":false,"autoPlay":true}}]


var ad =
[{"t":{"p":"1"},"sp":60,"a":{"adConfig":{"nabTest":"GlobalConfig_Nothing"},"nabTest":"GlobalConfig_Nothing","badvlist":{"list":["trackmenow.life","fortunefindersnet.click","bidmaster360.com","trackpulsepro.cc","luxurytechinc.com","manukora.com","tracemasters.cc","wind-dSy14nuvlg.errolandtessa.com","safesysdefender.xyz","trackmaster.cc","serendipityseeker.xyz","redirectlinkway.top","ccriknights.com","lrscroyals.com","puzztake.com","windowsdefendersecuritycenter.com","yourfileisreadytodownload.com","mcafeetrojanvirusdetected.com","youvemadethe5billionthsearch.com","vpnupdatescam.com","subscribepage.com","platinumai.net","trackmenow.life","tracemasters.cc","networkfortifyguard.life","batch.cootlogix.com","vo-av.azureedge.net","v-fa.azureedge.net","bn-vdo.azureedge.net","d3i45xa0npwdkr.cloudfront.net","zr-vd.azureedge.net","livd.azureedge.net","doazcw5q3y88m.cloudfront.net","v3-ky.azureedge.net","ftder.azureedge.net","waytopmobi.com","waytopmobirtb.com","deceowinnul.xyz","winbanotice.top","22witwoqes.top","us1winno.top","2021winstat.xyz","apsbvl.space","bhgusz.space","axufcs.space","luckypapa.top","luckypuppy.top","bbd383ttka21.top","21bustqisw2.top","2022325luckyday.top","2020workaffnew.top","bbd383ttka23.top","cnmdzem1201.top","bxlysluckdu.top","2284sbluck.top","mtfl20232good.top","trkcenter.top","takutaku2834.top","takutaku2833.top","netw611k22de.top","takutaku2832.top","takutaku2831.top","new611k22.top","tmdqswllck.top","cnmb29382732.top","bindgnndnia2323.top","redirectlinkway.top","resilienceguardnet.top","protectguardline.world","barricadesecureway.info","ricadesecureway.info","chanceencounterline.top","test2.com","d9b0a67x9wsqc.cloudfront.net","d26ysxib20d4fq.cloudfront.net","d2xq9lyqyjnbrs.cloudfront.net","fortunefindersnet.click","resilience.guardnet.top","lionenergy.com","heyhorti.com","hologearco.com","ginamber.com","projectrepat.com","fortunefindersnet.click","lrscroyals.com","ccriknights.com","ccsubluedevils.com","d1l7snsb4aerjt.cloudfront.net","livebearded.com","odr.mookie1.com","mookie1.com","d12nmqc6q4mfgg.cloudfront.net","d2hv6bo9nf9myw.cloudfront.net","d2knse0u650wbq.cloudfront.net","d1p403z98dbkw8.cloudfront.net","d3keaxpcmusyl6.cloudfront.net","d3osdrn4aekbnx.cloudfront.net","d3kqccsvtdsria.cloudfront.net","d1ygqz6kxv5if1.cloudfront.net","djtxbo9vvfov0.cloudfront.net","d123c42anorg6n.cloudfront.net","forwardzonehub.life","bidder360.online","serenitystar.info"]}}},{"t":{"p":"1"},"sp":40,"a":{"vastRetry":1,"imarpm":5,"adConfig":{"vastRetry":1,"nabTest":"GlobalConfig_Limit","maxp":2,"imamode":1,"imarpm":5},"nabTest":"GlobalConfig_Limit","imamode":1,"maxp":2,"content":{"breakingAds":7},"badvlist":{"list":["trackmenow.life","fortunefindersnet.click","bidmaster360.com","trackpulsepro.cc","luxurytechinc.com","manukora.com","tracemasters.cc","wind-dSy14nuvlg.errolandtessa.com","safesysdefender.xyz","trackmaster.cc","serendipityseeker.xyz","redirectlinkway.top","ccriknights.com","lrscroyals.com","puzztake.com","windowsdefendersecuritycenter.com","yourfileisreadytodownload.com","mcafeetrojanvirusdetected.com","youvemadethe5billionthsearch.com","vpnupdatescam.com","subscribepage.com","platinumai.net","trackmenow.life","tracemasters.cc","networkfortifyguard.life","batch.cootlogix.com","vo-av.azureedge.net","v-fa.azureedge.net","bn-vdo.azureedge.net","d3i45xa0npwdkr.cloudfront.net","zr-vd.azureedge.net","livd.azureedge.net","doazcw5q3y88m.cloudfront.net","v3-ky.azureedge.net","ftder.azureedge.net","waytopmobi.com","waytopmobirtb.com","deceowinnul.xyz","winbanotice.top","22witwoqes.top","us1winno.top","2021winstat.xyz","apsbvl.space","bhgusz.space","axufcs.space","luckypapa.top","luckypuppy.top","bbd383ttka21.top","21bustqisw2.top","2022325luckyday.top","2020workaffnew.top","bbd383ttka23.top","cnmdzem1201.top","bxlysluckdu.top","2284sbluck.top","mtfl20232good.top","trkcenter.top","takutaku2834.top","takutaku2833.top","netw611k22de.top","takutaku2832.top","takutaku2831.top","new611k22.top","tmdqswllck.top","cnmb29382732.top","bindgnndnia2323.top","redirectlinkway.top","resilienceguardnet.top","protectguardline.world","barricadesecureway.info","ricadesecureway.info","chanceencounterline.top","test2.com","d9b0a67x9wsqc.cloudfront.net","d26ysxib20d4fq.cloudfront.net","d2xq9lyqyjnbrs.cloudfront.net","fortunefindersnet.click","resilience.guardnet.top","lionenergy.com","heyhorti.com","hologearco.com","ginamber.com","projectrepat.com","fortunefindersnet.click","lrscroyals.com","ccriknights.com","ccsubluedevils.com","d1l7snsb4aerjt.cloudfront.net","livebearded.com","odr.mookie1.com","mookie1.com","d12nmqc6q4mfgg.cloudfront.net","d2hv6bo9nf9myw.cloudfront.net","d2knse0u650wbq.cloudfront.net","d1p403z98dbkw8.cloudfront.net","d3keaxpcmusyl6.cloudfront.net","d3osdrn4aekbnx.cloudfront.net","d3kqccsvtdsria.cloudfront.net","d1ygqz6kxv5if1.cloudfront.net","djtxbo9vvfov0.cloudfront.net","d123c42anorg6n.cloudfront.net","forwardzonehub.life","bidder360.online","serenitystar.info"]},"midrolltime":7}}]


    function merge(target, source) {
        if (typeof source !== 'object' || Array.isArray(source)) {
            return target;
        }
        for (var key in source) {
            var a = {};
            a[key] = {};
            if (typeof source[key] === 'object' && !Array.isArray(source[key])) {
                if (!target[key]) {
                    Object.assign(target, a);
                }
                merge(target[key], source[key]);
            } else {
                a[key] = source[key];
                Object.assign(target, a);
            }
        }
    }

    function getApiInfo(apiName, win) {
        try {
            if (win[apiName]) {
                return { api: win[apiName], window: win };
            } else if(window[apiName]) {
                return { api: window[apiName], window: window };
            } else {
                return { api: top[apiName], window: top };
            }
        } catch (exp) {
            return { api: window[apiName], window: window };
        }
    }

    /*tagconfig*/
    var a = config;
    var st = {
        scriptErrorCounter: 0,
        target: function () {
            try {
if (this.sp) {
  return;
}

var ua = navigator.userAgent || navigator.vendor || window.opera;
var uav = navigator.appVersion ? navigator.appVersion.toLowerCase() : "";
var op = 2;
var isTablet = /(ipad|tablet|(android(?!.*mobile))|(windows(?!.*phone)(.*touch))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/i.test(ua);
var isMobile = /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(ua) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(ua.substr(0, 4));

if (isTablet && a.tabletAsDesktop) {
  //
} else if (isMobile) {
  op = 1;
} else if (/web0s|webos|tizen/i.test(uav)) {
  op = 4;
}

this.op = op;
} catch (reason) {(console.error || console.log)(reason);}
        },
        getConfig: function () {
            try {
function addDefaults (r, defaults) {
  r.creativeDimensions = defaults.creativeDimensions;
  r.refresh = defaults.refresh;
  r.width = defaults.width;
  r.height = defaults.height;
}

function getRC(ab) {
  if (ab && ab.length) {
    var inc = 0;
    var rand = Math.floor(Math.random() * 100) + 1;

    for (i = 0; i < ab.length; i++) {
      b1 = ab[i];
      inc += b1.sp;

      if (b1.a && inc >= rand) {
        return b1.a;
      }
    }
  }
}

var cfg = a;

try {
  var i, b1, b1a;

  if (b && b.length > 0) {
    st.target();

    for (i = 0; i < b.length; i++) {
      b1 = b[i];

      if (b1.t && b1.t.p && b1.t.p == this.op && b1.a) {
        b1a = b1.a;
        break;
      }
    }
  }
  st.target();

  if (typeof abDesktop !== "undefined") {
    ab = this.op == 2 ? abDesktop : abMobile;
  }
  if (typeof adDesktop !== "undefined") {
    ad = this.op == 2 ? adDesktop : adMobile;
  }

  var r1 = getRC(ab) || b1a || cfg;

  if (cfg.waitForScroll) {
    r1.waitForScroll = true;
  }

  if (cfg.waitBeforeInit) {
    r1.waitBeforeInit = cfg.waitBeforeInit;
  }

  if (cfg.setUtm) {
    r1.setUtm = true;
  }

  if (cfg.adConfig && cfg.adConfig.setUtm) {
    r1.adConfig.setUtm = true;
  }

  if (typeof ad !== "undefined" && ad.length > 0) {
    var r2 = getRC(ad);
    merge(r1, r2);
  }

  var defaults = config;
  if (st.op == 1 && b && b[0]) {
    defaults = b[0].a;
  }
  if (config.creativeType == 2) {
    addDefaults(r1, defaults);
  }

  try {
    var urlParams = new URLSearchParams(window.top.location.search);
    var overrideConfig = JSON.parse(decodeURIComponent(urlParams.get("av_config")));

    if (overrideConfig) {
      merge(r1, overrideConfig);
    }
  } catch (err) {}

  return r1;
} catch (e) {}

return cfg;
} catch (reason) {(console.error || console.log)(reason);}
        },
        track: function(e, m) {
            try {
if (!this.trackUrl) {
  var kvStr = "";
  var utmKeys = !adConfig.setUtm ? {} : {
    utm_source: "d86",
    utm_medium: "d87",
    utm_term: "d88",
    utm_content: "d89",
    utm_campaign: "d90",
  };

  for (var i = 1; i <= 20; i++) {
    utmKeys["AV_CDIM" + i] = "cd" + i;
  }

  var searchParams = (location.href.split("?")[1] || "") + "&" + (adConfig.ref1 || "");
  var urlParams = {};
  searchParams = searchParams.split("&");

  searchParams.forEach(function (param) {
    var kv = param.split("=");
    var index = kv[0];
    urlParams[index] = kv[1] || "";
  });

  Object.keys(utmKeys).forEach((key) => {
    if (urlParams[key]) {
      kvStr += "&" + utmKeys[key] + "=" + urlParams[key];
    }
  });

  this.trackUrl =
    "https://"
    + (a.trackDomain || "track1.aniview.com")
    + "/track?pid="
    + a.publisherId
    + "&cid="
    + a.channelId
    + "&cb="
    + Date.now()
    + "&r="
    + location.host
    + "&stagid="
    + (a.tagId || "")
    + "&stplid="
    + (a.templateId || "")
    + "&d35="
    + (a.sabTest || "")
    + "&d65="
    + (a.nabTest || "")
    + "&d74="
    + (a.sessionID || "")
    + kvStr
    + "&e=";
}

m = m ? m : "";
(new Image()).src = this.trackUrl + e + m;
} catch (reason) {(console.error || console.log)(reason);}
        },
        unique: function() {
            try {
if (!this.win.aniplayerPos) {
  this.win.aniplayerPos = {};
}

this.win.aniplayerPos[a.position] = true;

return true;
} catch (reason) {(console.error || console.log)(reason);}
        },
        findWin: function() {
           try {
try {
  try {
    var hasSelector = a.posSelector || a.posSelectors && a.posSelectors.length > 0;

    if ((!a.posDfp1x1 && !a.posClass && !hasSelector && !a.posId && !a.posTag) || (w === top) || !w.frameElement) {
      this.doc = document;
      this.win = w;
    } else if (a.posDfp1x1 && w.frameElement) {
      this.win = parent;
      this.doc = parent.document;
    } else {
      this.win = top;
      this.doc = top.document;
    }
  } catch (f) {
    this.doc = document;
    this.win = w;
  }
} catch (reason) {
  (console.error || console.log)(reason);
}
} catch (reason) {(console.error || console.log)(reason);}
        },
        postCreate: function(el) {
            try {
		if (location.host == "fruityblox.com") {
			el.style.zIndex = "10000000000";
		}
		if (adConfig.sticky && adConfig.sticky.size > 0) {
			adConfig.floating = {};
		}
		if (config.isSpa) {
			el.parentNode.av_setpos = {};
		}
		if (location.href.indexOf("nitro_video_demo_active=1") > -1) {
			adConfig.channelId = "66fae6ea8e4cd1e145058634";
		}
		if (!adConfig.sticky || !adConfig.sticky.size) {
			adConfig.closeButton = true;
		}
		if (adConfig.gpid && adConfig.gpid.indexOf("#") > -1) {
			adConfig.gpid = adConfig.gpid.split("#")[0];
		}
		if (["66be396aa14db29ff304fd62", "66be39672883dcf1210b67a8"].indexOf(adConfig.channelId) > -1) {
			adConfig.uidproviders = adConfig.uidproviders || {};
			adConfig.uidproviders.avintentiq = {
				all: true,
				iiqReport: true,
				partner: 1769707073
			};
		} else {
			adConfig.uidproviders = adConfig.uidproviders || {};
			adConfig.uidproviders.avintentiq = {
				partner: 755298539,
				all: true
			};
		}
} catch (reason) {(console.error || console.log)(reason);}
        },
        retry: function() {
           try {
var that = this;
var isFallback = false;

if (this.retryCnt++ > this.timeout) {
  this.track("AV_M3", "&prbdres=nopos&sn=" + encodeURIComponent(location.href).slice(0, 400));

  return;
}

if (this.retryCnt == this.timeout && a.posFallbacks) {
  a.posSelectors = a.posFallbacks;
  isFallback = true;
  this.track("AV_M3", "&prbdres=fallbackpos&sn=" + encodeURIComponent(location.href).slice(0, 400));
}

setTimeout(function() {
  that.prePosition(isFallback);
}, 250);
} catch (reason) {(console.error || console.log)(reason);}
        },
        create: function(p, n) {
            try {
var d1 = document.createElement("div");

if (a.scriptId) {
  d1.className = a.scriptId;
}

d1.style.width = "100%";
d1.style.margin = "0 auto";
d1.style.maxWidth = "" + a.maxWidth + "px";
var d2 = document.createElement("div");
d2.id = "aniBox";
d2.style.width = "100%";
d2.style.height = "1px";
var d3 = document.createElement("div");
d3.id = a.position;
d3.style.width = "100%";

if (p === this.doc || p === this.doc.head) {
  p = this.doc.body;
}

if (n) {
  p.insertBefore(d1, n);
} else {
  p.appendChild(d1);
}

a.positionDiv = d3;
a.refDiv = p;
d1.appendChild(d2);
d2.appendChild(d3);

this.postCreate(d1);
} catch (reason) {(console.error || console.log)(reason);}
        },
        prePosition: function(isFallback) {
            try {
this.position(isFallback);
} catch (reason) {(console.error || console.log)(reason);}
        },
        position: function(isFallback) {
            try {
function validateElements(els) {
  var ret = [];

  if (els) {
    els.forEach(function(el) {
      if (el && el.clientWidth > (a.minElWidth || 170)) {
        ret.push(el);
      }
    });
  }

  return ret;
}

function findSelectors(selectors) {
  if (selectors && selectors.length > 0 && selectors.forEach) {
    for (var i = 0; i < selectors.length; i++) {
      var s = selectors[i];

      try {
        var q = st.doc.querySelectorAll(s.selector);

        if (q.length > 0) {
          return {
            q: isFallback ? validateElements(q): q,
            counter: s.counter,
          };
        }
      } catch (ex) {}
    }
  }

  return { q: [] };
}

var p = this.doc;
var isScp = false;
var positionApiKey = "av_positionApi_" + a.scriptId;

try {
  if (
    (!a.positionApi || typeof this.win[a.positionApi] !== "function")
    && typeof top[positionApiKey] === "function"
  ) {
    a.positionApi = positionApiKey;
  }
} catch (ex) {}

if (a.positionApi && typeof this.win[a.positionApi] === "function") {
  try {
    p = this.win[a.positionApi](a, st);
  } catch (ex) {}

  if (!p) {
    this.retry();

    return;
  }

  if (a.posType != "in") {
    n = p;
    p = p.parentNode;
  }
}

try {
  if (a.posSelector && a.validateSelector) {
    a.posSelector = a.posSelector.trim();
    if (a.posSelector[0] === "#" && (a.posSelector.indexOf(":") > -1 || a.posSelector.indexOf(" ") > -1 || !isNaN(a.posSelector[1]) ) ) {
      a.posSelectors = a.posSelectors || [];
      a.posSelectors.push({
        count: 0,
        selector: "#" + CSS.escape(a.posSelector.substring(1))
      });
    }
  }
} catch(ex) {}

if (a.posSelector || a.posSelectors) {
  try {
    var sel1 = a.posSelector
      ? [{ selector: a.posSelector, counter: a.posCounter }]
      : [];
    var sel = findSelectors(sel1.concat(a.posSelectors || []));
    var q = sel.q;
    var l = 0;

  if (sel.counter > 0) {
    l = sel.counter - 1;
  }

  p = q[l] || q[q.length - 1];
  } catch (e) {
    this.track("AV_M3", "&prbdres=badpos&sn=" + encodeURIComponent(location.href).slice(0, 400));

    return;
  }

  if (!p) {
    this.retry();

    return;
  }
}

if (a.posId) {
  p = this.doc.getElementById(a.posId);

  if (!p) {
    this.retry();

    return;
  }
}

if (a.posTag) {
  var c = a.posTag.split("#");

  if (c && c.length == 2) {
    var e = p.getElementsByTagName(c[0]);

    if (e.length == 0) {
      this.retry();

      return;
    }

    p = e[Math.min(c[1] - 1, e.length - 1)];
  }
}

if (a.posClass) {
  var c = a.posClass.split("#");
  var e = 1;

  if (c.length == 2) {
    e = c[1];
  }

  var f = p.getElementsByClassName(c[0]);

  if (f.length > 0) {
    p = f[Math.min(e - 1, f.length - 1)];
  }

  if (!p) {
    this.retry();

    return;
  }
}

if (a.posDfp1x1 && window.frameElement) {
  n = window.frameElement.parentNode.parentNode;
  p = n.parentNode;

  if ((frameElement.clientHeight > 5 || document.body.clientHeight > 5) && !a.nohideIframe) {
    frameElement.style.height = "0px";
  }

  if (a.posType == "after") {
    n = n.nextElementSibling;
  }
}

var n;

if (p === this.doc) {
  n = this.findScript();

  if (n) {
    p = n.parentNode;
  }
}

if (p === this.doc.head) {
  n = null;
  p = this.doc;
}

if (a.posType && a.posType !== "in" && !n) {
  if (a.posType === "after" && p.nextElementSibling) {
    n = p.nextElementSibling;
  } else {
    n = null;
  }

  p = p.parentNode;
}

if (p) {
  if (!p.av_setpos) {
    p.av_setpos = {};
  }

  if (!p.av_setpos[a.position]) {
    p.av_setpos[a.position] = true;
    a.position += "-" + Date.now();
    this.create(p, n);
    this.load(a.playerVersion);
  } else {
    this.track("AV_M3", "&prbdres=duppos&sn=" + encodeURIComponent(location.href).slice(0, 400));
  }
}
} catch (reason) {(console.error || console.log)(reason);}
        },
        targetingFail: function() {
           try {
this.track("AV_M3", "&prbdres=targeting");
} catch (reason) {(console.error || console.log)(reason);}
        },
        checkTargeting: function(callbackSuccess, callbackFail) {
           try {
var that = this;
that.callbackSuccess = callbackSuccess;
that.callbackFail = callbackFail;
var adserverdomain = "tg1.aniview.com";

try {
  adserverdomain = a.adServerDomain ? a.adServerDomain : this.config.adConfig.adServerDomain;
} catch (e) {}

var targetingdomain = a.targetingDomain ? a.targetingDomain : adserverdomain;
var publisherId = a.publisherId ? a.publisherId : this.config.adConfig.publisherId;
var channelId = a.channelId ? a.channelId : this.config.adConfig.channelId;
var targetingEndpoint =
  "https://"
  + targetingdomain
  + "/api/adserver/spt/targeting?AV_TAGID="
  + a.tagId
  + "&AV_PUBLISHERID="
  + publisherId
  + "&AV_CHANNELID="
  + channelId
  + "&AV_URL="
  + window.location.href;
var xhr = new XMLHttpRequest();

xhr.onload = function () {
  try {
    var resp = JSON.parse(xhr.responseText);

    if (typeof resp.result !== "undefined" && resp.result === 0) {
      that.callbackFail();
    } else {
      that.callbackSuccess();
    }
  } catch (e) {
    that.callbackSuccess();
  }
};

xhr.open("GET", targetingEndpoint, true);
xhr.send();
} catch (reason) {(console.error || console.log)(reason);}
        },
        load: function() {
            try {
var that = this;
var defaultScriptDomain = "player.aniview.com";
var scriptDomain = a.scriptDomain || defaultScriptDomain;
var scriptPath = "/script/6.1/";
var baseJsUrl = "https://" + scriptDomain + scriptPath;
var defaultBaseJsUrl = "https://" + defaultScriptDomain + scriptPath;
var abPercentage = typeof a.abtest === "undefined" ? 5 : a.abtest;

function checkIfError() {
  if (++st.scriptErrorCounter < 2) {
    fetchScript(a.baseJsUrl || baseJsUrl);
  } else if (st.scriptErrorCounter < 4) {
    setTimeout(function() {
      if (a.baseJsUrl) {
        a.baseJsUrl = defaultBaseJsUrl;
      } else if (a.scriptDomain) {
        a.scriptDomain = defaultScriptDomain;
      }

      fetchScript(defaultBaseJsUrl);
    }, 5000);
  }
}

function fetchScript(baseJsUrl) {
  var scp = that.doc.createElement("script");
  var rand = Math.floor(Math.random() * 100) + 1;

  if (rand <= abPercentage) {
    baseJsUrl += "ab5/";
    a.abtest = 5;
  } else {
    a.abtest = 0;
  }

  if (a.debug) {
    baseJsUrl += "debug/";
  }

  scp.src = baseJsUrl + "player.js";

  scp.onload = function() {
    that.postLoadAsync(function() {
      that.start();
    });
  };

  scp.onerror = function() {
    that.doc.body.removeChild(scp);
    checkIfError();
  };

  scp.async = true;
  that.doc.body.appendChild(scp);
}

fetchScript(a.baseJsUrl || baseJsUrl);
} catch (reason) {(console.error || console.log)(reason);}
        },
        postStart: function(p) {
            try {
		p.on("Inventory", function () {
			var ifr = document.getElementById("AVLoader" + adConfig.position);
			if (ifr) {
				setTimeout(function () {
					try {
						var ifrs = ifr.contentWindow.document.querySelectorAll("iframe");
						var reg = /pa.openx.net|.rubiconproject.com|ads.pubmatic.com|acdn.adnxs.com|ce.lijit.com|-d.openx.net|js-sec.indexww.com|contextual.media.net|.3lift.com/;
						for (var i = 0; i < ifrs.length; i++) {
							if (ifrs[i].src && ifrs[i].src.indexOf('https://') > -1 && reg.test(ifrs[i].src)) {
								ifrs[i].parentNode.removeChild(ifrs[i]);
							}
						}
					} catch (exx) {
					}
				}, 30000);
			}
		});
		if (typeof this.win["nitroAvPlayerApi"] === "function") {
			try {
				this.win["nitroAvPlayerApi"](p);
			} catch (ex) {
			}
		}
} catch (reason) {(console.error || console.log)(reason);}
        },
        getAttr: function() {
            try {
if (a.scriptId) {
  var s = this.findScript();

  if (s) {
    for (var i = 0, t = s.attributes; i < s.attributes.length; i++) {
      if (t[i].nodeName && t[i].nodeName.indexOf("data-") == 0) {
        var n = t[i]
          .nodeName
          .replace(/^data-/, "")
          .replace(/[-_]+?(\w)/g, function (_, letter) {
            return letter.toUpperCase();
          })
          .split(".");

        var lastProp = n.pop();

        try {
          var innerConfig = n.reduce(function (a, prop) {
            return a[prop];
          }, a);
          innerConfig[lastProp] = t[i].nodeValue;
        } catch(e) {}
      }
    }

    if (s.src) {
      var p = s.src.indexOf("?");

      if (p > 10) {
        var r = (s.src.substring(p + 1, s.src.length));
        a.ref1 = (a.ref1 || "") + "&" + (r || "");
      }
    }
  }
}
} catch (reason) {(console.error || console.log)(reason);}
        },
        start: function() {
            try {
var playerApi = getApiInfo("avPlayer", this.win).api;
var b = new playerApi(a);
this.p = b;

if (this.pbjs && this.pbjs.preparePlayer) {
  this.pbjs.preparePlayer(b, st);
}

if (a.playerApi && typeof this.win[a.playerApi] === "function" ) {
  try {
    this.win[a.playerApi](a, b, st);
  } catch(ex) {}
}

if (a.templateType != 0) {
  b.startTemplate(a.positionDiv.parentNode);
}

b.play(a);
this.postStart(b);
} catch (reason) {(console.error || console.log)(reason);}
        },
        preRun: function() {
            try {
		a.validateSelector = true;
		adConfig.maxBidQueue = 3;
		adConfig.minWidth = 230;
		adConfig.minHeight = 130;
		adConfig.confiantmonitor = {
			"url": "https://cdn.confiant-integrations.net/IKOzVPjtHv3tevs-RDaJOMdtkBI/video/config.js"
		};
		if (location.host.indexOf("maxroll.gg") > -1 || location.host.indexOf("tiermaker.com") > -1) {
			adConfig.maxBidQueue = 0;
			adConfig.vastRetry = 1;
			adConfig.midrolltime = 8;
			adConfig.maxp = 2;
			adConfig.maxrun = 200;
			adConfig.maximp = 20;
			adConfig.imamode = 1;
		}
		if (location.host.indexOf("thetruesize.com") > -1) {
			adConfig.skip = true;
			adConfig.skipTimer = 5;
		}
		if (location.host.indexOf("duelingnexus.com") > -1) {
			adConfig.maxBidQueue = 0;
			adConfig.vastRetry = 0;
			adConfig.midrolltime = 8;
			adConfig.maxp = 2;
			adConfig.maxrun = 200;
			adConfig.imamode = 1;
		}
		if (location.host.indexOf("subnauticamap.io") > -1) {
			a.posSelectors = a.posSelectors || [];
			a.posSelectors.unshift({
				selector: '#subnautica\\:subnautica-video-slider'
			});
			a.posType = "in";
		}
		if (location.host.indexOf("5e.tools") > -1) {
			a.posType = "in";
		}
		adConfig.vpnorec = true;
		adConfig.optimizeui = true;
		var moxfieldPos = location.host.indexOf("moxfield.com");
		moxfieldPos = -1;
		if (moxfieldPos > -1 && moxfieldPos < 20) {
			config.posSelector = "#unauthedvideo";
		}
		if (location.host.indexOf("duelingnexus.com") > -1) {
			config.posSelectors = [{
				selector: "#Login\\ -\\ Floating\\ Video\\ Player",
				counter: 0
			}, {
				selector: "#Home\\ -\\ Floating\\ Video\\ Player",
				counter: 0
			}];
			if (document.currentScript.parentNode.id.indexOf("Floating Video Player") > -1 && document.currentScript.id === config.scriptId) {
				var selector1 = "#" + document.currentScript.parentNode.id.replaceAll(" ", "\\ ");
				config.posSelectors.push({
					selector: selector1,
					counter: 0
				});
			}
		}
		if (location.host.indexOf("what-song.com") > -1) {
			a.customCss = "#av-container #av-inner #gui #timeline #timeline-progress {background-color: #B2D235}";
			if (st.op == 1) {
				a.customCss = a.customCss + " .na-float-visible {bottom: unset;top:10px} #nitro-float-close {bottom:unset;top:185px}";
			}
		}
		if (location.host.indexOf("thebreakdown.xyz") > -1) {
			config.posSelectors = config.posSelectors || [];
			if (document.currentScript.parentNode.id.indexOf("Video") > -1 && document.currentScript.id === config.scriptId) {
				var selector1 = "#" + document.currentScript.parentNode.id.replaceAll(" ", "\\ ");
				config.posSelectors.push({
					selector: selector1,
					counter: 0
				});
			}
		}
		adConfig.pricegranularitydecimals = 2;
		try {
			var prebidConfig = JSON.parse(JSON.stringify(top.napbjs.getConfig()));
			if (prebidConfig) {
				if (prebidConfig.ortb2) {
					adConfig.ortb2 = prebidConfig.ortb2;
				}
				if (prebidConfig.schain && prebidConfig.schain.config && prebidConfig.schain.config.ver && prebidConfig.schain.config.nodes && prebidConfig.schain.config.nodes.length > 0) {
					var schainObject = prebidConfig.schain.config;
					var parts = [];
					var head = schainObject.ver + "," + schainObject.complete;
					parts.push(head);
					schainObject.nodes.forEach(function (node) {
						var nodeParts = [];
						nodeParts.push("!" + node.asi);
						nodeParts.push(node.sid);
						nodeParts.push(node.hp);
						nodeParts.push(node.rid || '');
						nodeParts.push(node.name || '');
						nodeParts.push(node.domain || '');
						parts.push(nodeParts.join(','));
					});
					var schain = parts.join('');
					adConfig.ref1 = adConfig.ref1 || "";
					adConfig.ref1 = adConfig.ref1 + "&AV_CDIM15=" + schain + "&AV_SCHAIN=" + schain;
				}
			}
			var eids = top.napbjs.getUserIdsAsEids();
			if (eids && eids.length > 0) {
				for (var i = 0; i < eids.length; i++) {
					var eid = eids[i];
					if (eid && eid.source === "audigent.com" && eid.uids && eid.uids[0] && eid.uids[0].id && typeof eid.uids[0].id === "string") {
						adConfig.ref1 = (adConfig.ref1 || "") + "&AV_CUSTOM6=" + eid.uids[0].id;
						break;
					}
				}
				adConfig.openRtb = adConfig.openRtb || {};
				adConfig.openRtb.user = adConfig.openRtb.user || {};
				adConfig.openRtb.user.ext = adConfig.openRtb.user.ext || {};
				adConfig.openRtb.user.ext.eids = eids;
			}
		} catch (aaa) {
		}
} catch (reason) {(console.error || console.log)(reason);}
        },
        run: function() {
            try {
this.config = a = config = this.getConfig();
this.a = a;
this.adConfig = adConfig = (config.playerType == 2 ? config.adConfig : config) || {};
this.getAttr();

function generateUuid() {
  return "xxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g, function(c) {
    var r = Math.random() * 16|0;
    var v = c == "x" ? r : (r&0x3|0x8);

    return v.toString(16);
  });
}

if (a.isSessionIdEnabled) {
  a.sessionID = generateUuid();
}

this.a = a;

if (window.av_s2sbid) {
  adConfig.s2sbid = window.av_s2sbid;
  window.av_s2sbid = undefined;
}

this.preRun();
this.findWin();

if (!this.doc.body) {
  this.doc.addEventListener("DOMContentLoaded", function() {
    st.run();
  });

  if (this.bodyRetry > 0) {
    setTimeout(function() {
      st.run();
    }, 250);

    this.domRetry--;
  }

  return;
}

if (a.configApi && typeof this.win[a.configApi] === "function") {
  try {
    this.win[a.configApi](a);
  } catch (ex) {}
}

if (this.unique() && !this.loaded) {
  this.loaded = true;
  this.track("playerLoaded");
  this.retryCnt = 0;
  this.timeout = a.posTimeout || 40;
  this.pbjs = window.aniviewRenderer && window.aniviewRenderer.units && window.aniviewRenderer.units[a.scriptId];

  if (!this.pbjs) {
    this.pbjs = window.aniviewRenderer;
  }

  if (this.pbjs && this.pbjs.prepareConfig) {
    this.pbjs.prepareConfig(a, st);
  }

  if (a.checkTargeting) {
    this.checkTargeting(this.prePosition, this.targetingFail);
  } else {
    this.prePosition();
  }
}
} catch (reason) {(console.error || console.log)(reason);}
        },
        postLoadAsync: function(callback) {
            try {
var hasTopAccess = false;

try {
  if (top.location.href) {
    hasTopAccess = true;
  }
} catch (err) {}

if (!hasTopAccess || !config.waitForScroll && !config.waitBeforeInit) {
  callback();

  return;
}

var delayed;

var cleanup = function() {
  top.removeEventListener("scroll", scrollListener);

  if (delayed) {
    clearTimeout(delayed);
  }
};

var finish = function() {
  cleanup();
  callback();
}

var startTimer = function() {
  if (typeof config.waitBeforeInit === "number" && config.waitBeforeInit > 0) {
    delayed = setTimeout(finish, config.waitBeforeInit);
  }
}

var checkPosition = function() {
  return top.scrollY > 5;
};

var scrollListener = function() {
  if (checkPosition()) {
    finish();
  }
};

if (!config.waitForScroll) {
  startTimer();
} else {
  if (checkPosition()) {
    finish();
  } else {
    top.addEventListener("scroll", scrollListener);

    startTimer();
  }
}
} catch (reason) {(console.error || console.log)(reason);}
        },
        findScript: function() {
            try {
if (!this.scriptEl) {
  a.scriptApi = a.scriptApi || window["av_scriptApi_" + a.scriptId];

  if (a.scriptApi && typeof a.scriptApi === "function") {
    var scriptEl = a.scriptApi();

    if (scriptEl != null) {
      this.scriptEl = scriptEl;
    }
  }
}

if (!this.scriptEl) {
  this.scriptEl = document.getElementById(a.scriptId) || document.currentScript;
}

return this.scriptEl;
} catch (reason) {(console.error || console.log)(reason);}
        },
        domRetry: 20
    };
    if (a.playerDelay > 0) {
        setTimeout(function() {
            st.run();
        }, a.playerDelay * 1000);
    } else {
       st.run();
    }
})(window);

